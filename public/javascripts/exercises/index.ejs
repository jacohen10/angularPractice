<div class="exercises">
  <div ng-repeat="exercise in ExerciseIndexViewModel.exercises">
    <a data-ui-sref="exerciseShow({id: exercise._id})">{{exercise.exerciseName}}: {{exercise.exerciseCount}}</a>
  </div>
</div>

<div class="new_exercise" ng-controller="exercisesController as exercisesViewModel">
  <div class="btn btn-primary" id="new_exercise" ng-click="exercisesViewModel.toggleForm()">New Exercise</div>

  <form ng-show="exercisesViewModel.formIsVisible" ng-submit="exercisesViewModel.create()">
    <input type="text" name="exerciseName" ng-model="exercisesViewModel.exerciseName">
    <input type="text" name="exerciseCount" ng-model="exercisesViewModel.exerciseCount">
    <button class="btn btn-primary" type="submit" name="button">Create</button>
  </form>



  <div class="exercises">
    <div ng-repeat="exercise in exercisesViewModel.exercises">
      <ul>
        <li ng-show="!editExcercise">{{exercise.exerciseName}}: {{exercise.exerciseCount}}</li>
        <li><button class ='edit btn btn-primary' ng-click="exercisesViewModel.edit($index);editExercise = !editExercise">Edit</button></li>
        <li>
          <form ng-show="editExercise">
            <input type="text" name="exerciseName" ng-model="exercisesViewModel.exerciseName">
            <input type="text" name="exerciseCount" ng-model="exercisesViewModel.exerciseCount">
            <button class="new btn btn-primary" ng-click="exercisesViewModel.update($index); editExercise = !editExercise">Save</button>
            <button ng-click='editExercise = !editExercise' class='cancel btn btn-primary'>Cancel</button>
            <button class="new btn btn-primary" ng-click="exercisesViewModel.delete($index); editExercise = !editExercise">Delete</button>
          </form>
        </li>
      </ul>
    </div>
  </div>
</div>
